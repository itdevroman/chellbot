# Chellbot

## Описание
Chellbot — небольшой и классный Twitch чат бот разработанный на Node.JS. :+1: Использует бибилиотеку tmi.js для подключения к Twitch чату. Основные возможности бота:
* сообщение аптайма стрима;
* максимальное кол-во зрителей за стрим;
* бан рулетка;
* автопостинг сообщений из пабликов VK;
* автоматический бан за гусей-гидр;
* создание опросов на StrawPoll одной командой.

## Быстрый старт (или медленный, смотря как у вас получится)
Если вы ничего не смыслите в Node.js, а вам срочно хочется бота, необходимо будет ознакомиться с JSON, GIT, Node и NPM. Если вы знаете, что делаете, склонируйте репозиторий:
```sh
git clone https://github.com/itdevroman/chellbot.git ./
```
Получите все необходимые зависимости. Это tmi.js, moment и request. Команда как всегда:
```sh
npm install
```
Теперь осталось настроить конфигурационный файл. Файл должен находится в корневой директории с именем: config.json. Образец заполненного конфига присутствует в файле: config.sample.json. Подробное описание конфига в разделе ниже.

Настроили конфиг? Запустите бота командой:
```sh
npm start
```

## Конфигурационный файл
Вот так выглядит файл по умолчанию, это просто JSON объект:
```json
{
  "name": "botnickname",
  "oauth": "bottoken",
  "host": "channelname",
  "debug": false,
  "channels": [
    "#channelname"
  ],
  "allowedModules": {
    "banMe": true,
    "max": true,
    "time": true,
    "hydra": true
  },
  "vk": {
    "enable": false,
    "id": "-123456",
    "name": "publicname"
  }
}
```
Сразу приступим к описанию каждой строки.
|Строка       | Описание  | 
| ------------- |:-------------:|
|name| Никнейм вашего бота. |
| oauth     | OAuth токен для Twitch, можно взять здесь: http://www.twitchapps.com/tmi/ |
| host | Название канала для кторого будет браться информация по аптайму и прочему.    |
| debug | Режим debug для tmi.js (true или false).   |
| channels | Массив с каналами, куда зайдёт бот. Название канала в IRC формате, начинается с # (sharp).  |
| allowedModules | Какие модули будут работать у бота. Думаю, по названиям все понятно.  |
| vk | Автопостинг новых сообщений из паблика. enable для включения/выключения. ID паблика цифрами и название паблика (латиницей в адресной строке браузера) для формирования ссылки  |

## Критика и претензии к коду
Буду рад вашей помощи в оптимизации кода бота. Не смотря на то, что бот написан местами не очень то и корректно, работает он довольно стабильно (месяц аптайма). 